<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="author" content="Speccynerd">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SpeccyPaste</title>
  <link rel="icon" type="image/x-icon" href="https://speccynerd.dev/images/avatar.png">

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css">

  <style>
    html, body { height: 100%; }
    body { margin: 0; overflow: hidden; }
    #editor { width: 100%; height: 100%; }

    .highlight-token {
      background-color: rgba(255, 0, 0, 0.25) !important;
      border-bottom: 2px dotted red !important;
    }
    .fogged-token {
      background-color: rgba(255,0,0,0.1) !important;
      color: transparent !important;
      text-shadow: 0 0 6px rgba(255,255,255,0.4);
      border-bottom: 2px dotted red !important;
      user-select: none !important;
      pointer-events: none !important;
    }
    .fogged-token-after { display: none; }
  </style>
</head>

<body class="h-screen bg-neutral-900 text-neutral-100 overflow-hidden">

  <!-- Mobile bottom navigation -->
  <nav class="mobile-nav fixed bottom-0 left-0 z-40 flex w-full items-center justify-around border-t border-neutral-800 bg-neutral-900/95 px-4 py-2 text-2xl md:hidden">
    <a href="https://speccynerd.dev/" class="text-white/80 hover:text-white">üè†</a>
    <a href="/" class="text-white/80 hover:text-white">üìã</a>
    <button id="mobileSaveBtn" class="text-white/80 hover:text-white">üíæ</button>
  </nav>

  <div class="flex h-screen w-full">

    <!-- Sidebar -->
    <aside class="hidden h-full w-64 flex-col items-center border-r border-neutral-800 bg-neutral-900/95 px-4 py-6 md:flex">
      <div class="flex flex-col items-center justify-center gap-8 flex-grow">

        <div class="flex flex-col items-center gap-3">
          <img src="https://speccynerd.dev/images/avatar.png" class="h-20 w-20 rounded-full border border-neutral-700 shadow-lg object-cover" alt="Avatar" />
          <h2 class="text-xl font-semibold">SpeccyPaste</h2>

          <p class="text-xs uppercase tracking-[0.15em] text-neutral-400">Coded With</p>
          <div class="mt-2 flex gap-3 text-2xl">
            <i class="devicon-nodejs-plain colored"></i>
            <i class="devicon-html5-plain colored"></i>
            <i class="devicon-css3-plain colored"></i>
            <i class="devicon-javascript-plain colored"></i>
          </div>
        </div>

        <nav class="flex flex-col items-center gap-3 text-sm w-full">
          <a href="https://speccynerd.dev/" class="flex items-center gap-2 rounded-lg px-3 py-2 hover:bg-neutral-800">üè† Home Page</a>
          <a href="/" class="flex items-center gap-2 rounded-lg px-3 py-2 hover:bg-neutral-800">üìã New Paste</a>
          <button id="saveBtn" class="flex items-center gap-2 rounded-lg px-3 py-2 hover:bg-neutral-800">üíæ Save Paste</button>
        </nav>

        <footer class="mt-4 flex flex-col items-center gap-3 text-neutral-500 text-xs">
          <div class="flex gap-3 text-lg">
            <a href="https://discord.gg/DNTrWs2B3c" target="_blank"><i class="fab fa-discord hover:text-[#5865F2]"></i></a>
            <a href="#"><i class="fab fa-twitter hover:text-sky-400"></i></a>
            <a href="#"><i class="fab fa-github hover:text-white"></i></a>
            <a href="#"><i class="fas fa-envelope hover:text-red-400"></i></a>
          </div>
          <p>&copy; 2025 Speccynerd.dev</p>
        </footer>

      </div>
    </aside>

    <!-- MAIN -->
    <main class="flex-1 flex flex-col relative">  <!-- IMPORTANT: relative added -->

      <!-- Expiry banner -->
      <p id="expiryInfo" class="hidden bg-amber-400 text-center text-xs font-semibold text-neutral-900"></p>

      <!-- Header -->
      <header class="w-full border-b border-neutral-800 bg-neutral-900 flex justify-center py-3">
        <h1 class="text-lg font-semibold tracking-[0.25em] uppercase text-neutral-200">
          SpeccyPaste
        </h1>
      </header>

      <!-- FLOATING TOOLBAR (top-right of main, above editor) -->
      <div
        class="
          toolbar z-20
          flex flex-wrap items-center justify-center gap-2
          rounded-2xl border border-neutral-700 bg-neutral-900/95 px-3 py-2
          text-xs shadow-xl backdrop-blur

          /* MOBILE layout */
          w-full mt-3 mx-auto static sm:w-full sm:justify-center

          /* DESKTOP floating right */
          md:absolute md:top-[4.2rem] md:right-4 md:w-auto md:mt-0 md:mx-0
        "
      >

        <!-- Sensitive toggle -->
        <button id="toggleSensitive"
          class="flex h-8 w-8 items-center justify-center rounded-full border border-neutral-700 bg-neutral-800/80 hover:bg-neutral-700">
          <i class="fas fa-lock text-xs" id="sensitiveIcon"></i>
        </button>

        <input type="hidden" id="redactionState" value="false" />

        <!-- COPY -->
        <button id="copyBtn"
          class="hidden flex h-8 items-center justify-center rounded-lg border border-neutral-700 bg-neutral-800/80 px-2 hover:bg-neutral-700">
          <i class="fas fa-copy mr-1"></i>
          <span class="hidden lg:inline">Copy</span>
        </button>

        <!-- SHARE -->
        <button id="shareBtn"
          class="hidden flex h-8 items-center justify-center rounded-lg border border-neutral-700 bg-neutral-800/80 px-2 hover:bg-neutral-700">
          <i class="fas fa-link mr-1"></i>
          <span class="hidden lg:inline">Share</span>
        </button>

        <!-- RAW -->
        <button id="rawBtn"
          class="hidden flex h-8 items-center justify-center rounded-lg border border-neutral-700 bg-neutral-800/80 px-2 hover:bg-neutral-700">
          <i class="fas fa-code mr-1"></i>
          <span class="hidden lg:inline">Raw</span>
        </button>

        <!-- LANGUAGE -->
        <select id="language"
          class="hidden sm:block h-8 rounded-md border border-neutral-700 bg-neutral-900/90 px-2 text-xs hover:border-neutral-500">
          <optgroup label="-- text --">
            <option value="plaintext" selected>plain</option>
            <option value="log">log</option>
          </optgroup>
          <optgroup label="-- code --">
            <option value="javascript">javascript</option>
            <option value="typescript">typescript</option>
            <option value="java">java</option>
            <option value="python">python</option>
            <option value="c">c</option>
            <option value="cpp">cpp</option>
            <option value="csharp">csharp</option>
            <option value="go">go</option>
            <option value="rust">rust</option>
            <option value="php">php</option>
          </optgroup>
          <optgroup label="-- web --">
            <option value="html">html</option>
            <option value="css">css</option>
            <option value="json">json</option>
            <option value="xml">xml</option>
            <option value="markdown">markdown</option>
          </optgroup>
        </select>

        <!-- EXPIRY -->
        <select id="expiry"
          class="hidden sm:block h-8 rounded-md border border-neutral-700 bg-neutral-900/90 px-2 text-xs hover:border-neutral-500">
          <option value="10">10 Minutes</option>
          <option value="30">30 Minutes</option>
          <option value="60" selected>1 Hour</option>
          <option value="180">3 Hours</option>
          <option value="720">12 Hours</option>
          <option value="1440">1 Day</option>
          <option value="2880">2 Days</option>
          <option value="10080">7 Days</option>
          <option value="43200">30 Days</option>
        </select>

        <!-- OPTIONS -->
        <select id="settingsDropdown"
          class="h-8 rounded-md border border-neutral-700 bg-neutral-900/90 px-2 text-[0.7rem] font-semibold hover:border-neutral-500">
          <option value="" disabled selected>OPTIONS</option>
          <option value="add-password">üîí Add Password</option>
        </select>

        <!-- Toast -->
        <div id="toast"
          class="absolute left-1/2 top-full mt-2 hidden -translate-x-1/2 whitespace-nowrap rounded-md border border-neutral-700 bg-neutral-800 px-3 py-2 text-xs text-white shadow-lg">
          Link copied!
        </div>
      </div>

      <!-- EDITOR -->
      <div class="relative flex-1 min-h-0 bg-neutral-900">
        <div id="editor" class="w-full h-full"></div>

        <!-- FULL EXPIRY OVERLAY -->
        <div id="expiredOverlay"
             class="hidden absolute inset-0 z-50
                    bg-yellow-400 text-neutral-900
                    flex flex-col items-center justify-center
                    text-center font-semibold text-xl p-6">
            <div class="text-4xl mb-4">
                ‚ö†Ô∏è Paste Expired
            </div>
            <p class="text-lg mb-6">This paste is no longer available.</p>
            <a href="/"
              class="px-4 py-2 rounded-md bg-neutral-900 text-yellow-300 hover:bg-neutral-800 text-base">
              Go to Home
            </a>
        </div>

        <!-- Password Overlay -->
        <div id="passwordOverlay"
          class="pointer-events-auto fixed inset-0 z-50 hidden items-center justify-center bg-black/70 backdrop-blur">
          <div class="password-box w-full max-w-xs rounded-2xl border border-neutral-700 bg-neutral-900 px-6 py-6 text-center shadow-2xl">
            <p class="mb-1 flex justify-center gap-2 text-sm">
              <span class="text-lg">üîê</span>
              <span>This paste is password protected.</span>
            </p>
            <p class="mb-4 text-xs text-neutral-300">Enter the password below to view:</p>

            <input type="password" id="passwordInput"
              class="mb-3 w-full rounded-lg border border-neutral-600 bg-neutral-800 px-3 py-2 text-sm text-neutral-100"
              placeholder="Enter password" />

            <button id="submitPassword"
              class="w-full rounded-lg bg-red-500 px-3 py-2 text-sm font-semibold text-white hover:bg-red-600">
              Unlock
            </button>
          </div>
        </div>
      </div>
    </main>

  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs/loader.js"></script>
  <script src="/js/config.js"></script>
  <script src="/js/timer.js"></script>
  <script src="/js/actions.js"></script>
  <script src="/js/editor-init.js"></script>

</body>
</html>
